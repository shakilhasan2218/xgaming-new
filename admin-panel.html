<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XGaming - Master Admin Panel</title>
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="admin-body">
    <!-- Security Check Script -->
    <script>
        const adminSession = localStorage.getItem('adminSession');
        if (!adminSession) {
            window.location.href = 'admin-login.html';
        }

        const session = JSON.parse(adminSession);
        const loginTime = new Date(session.loginTime);
        const currentTime = new Date();
        const hoursDiff = (currentTime - loginTime) / (1000 * 60 * 60);

        if (hoursDiff > 8) {
            localStorage.removeItem('adminSession');
            window.location.href = 'admin-login.html';
        }

        function logout() {
            localStorage.removeItem('adminSession');
            window.location.href = 'admin-login.html';
        }
    </script>

    <!-- Admin Header -->
    <header class="admin-header">
        <div class="container">
            <div class="admin-nav">
                <div class="admin-logo">
                    <i class="fas fa-crown"></i>
                    <span>XGaming Master Admin</span>
                    <span class="version">v3.0</span>
                </div>
                <div class="admin-actions">
                    <div class="admin-info">
                        <span class="admin-name" id="current-admin-name">Loading...</span>
                        <span class="admin-role" id="current-admin-role">Master Admin</span>
                    </div>
                    <div class="admin-controls">
                        <button class="btn-notification" onclick="showNotifications()">
                            <i class="fas fa-bell"></i>
                            <span class="notification-count" id="notification-count">5</span>
                        </button>
                        <button class="btn-logout" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Admin Sidebar -->
    <nav class="admin-sidebar">
        <div class="sidebar-header">
            <div class="admin-level-badge">
                <i class="fas fa-user-shield"></i>
                <span>MASTER ADMIN</span>
            </div>
        </div>
        
        <div class="sidebar-menu">
            <!-- Main Sections -->
            <a href="#dashboard" class="menu-item active" onclick="showSection('dashboard')">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>

            <a href="#downline-list" class="menu-item" onclick="showSection('downline-list')">
                <i class="fas fa-sitemap"></i>
                <span>Downline List</span>
                <span class="menu-badge">45</span>
            </a>

            <a href="#my-account" class="menu-item" onclick="showSection('my-account')">
                <i class="fas fa-user-circle"></i>
                <span>My Account</span>
            </a>

            <a href="#my-report" class="menu-item" onclick="showSection('my-report')">
                <i class="fas fa-chart-line"></i>
                <span>My Report</span>
            </a>

            <!-- Bet Management -->
            <div class="menu-category">Bet Management</div>
            <a href="#bet-list" class="menu-item" onclick="showSection('bet-list')">
                <i class="fas fa-list"></i>
                <span>Bet List</span>
                <span class="menu-badge pending">12</span>
            </a>

            <a href="#bet-list-live" class="menu-item" onclick="showSection('bet-list-live')">
                <i class="fas fa-broadcast-tower"></i>
                <span>Bet List Live</span>
                <span class="menu-badge live">LIVE</span>
            </a>

            <!-- Financial Management -->
            <div class="menu-category">Financial Management</div>
            <a href="#risk-management" class="menu-item" onclick="showSection('risk-management')">
                <i class="fas fa-shield-alt"></i>
                <span>Risk Management</span>
            </a>

            <a href="#add-banks" class="menu-item" onclick="showSection('add-banks')">
                <i class="fas fa-university"></i>
                <span>Add Banks</span>
            </a>

            <a href="#commission" class="menu-item" onclick="showSection('commission')">
                <i class="fas fa-percentage"></i>
                <span>Commission</span>
            </a>

            <a href="#wallet-management" class="menu-item" onclick="showSection('wallet-management')">
                <i class="fas fa-wallet"></i>
                <span>Wallet Management</span>
            </a>

            <!-- SMS Gateway -->
            <div class="menu-category">SMS Gateway</div>
            <a href="#bkash-sms" class="menu-item" onclick="showSection('bkash-sms')">
                <i class="fas fa-mobile-alt"></i>
                <span>bKash SMS</span>
            </a>

            <a href="#nagad-sms" class="menu-item" onclick="showSection('nagad-sms')">
                <i class="fas fa-sms"></i>
                <span>Nagad SMS</span>
            </a>

            <a href="#rocket-sms" class="menu-item" onclick="showSection('rocket-sms')">
                <i class="fas fa-rocket"></i>
                <span>Rocket SMS</span>
            </a>

            <!-- System Management -->
            <div class="menu-category">System Management</div>
            <a href="#block-market" class="menu-item" onclick="showSection('block-market')">
                <i class="fas fa-ban"></i>
                <span>Block Market</span>
            </a>

            <a href="#customer-support" class="menu-item" onclick="showSection('customer-support')">
                <i class="fas fa-headset"></i>
                <span>Customer Support</span>
                <span class="menu-badge">8</span>
            </a>

            <a href="#game-setting" class="menu-item" onclick="showSection('game-setting')">
                <i class="fas fa-gamepad"></i>
                <span>Game Setting</span>
            </a>

            <a href="#admin-setting" class="menu-item" onclick="showSection('admin-setting')">
                <i class="fas fa-cogs"></i>
                <span>Admin Setting</span>
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="admin-main">
        <div class="container">
            <!-- Dashboard Section -->
            <section id="dashboard" class="admin-section active">
                <div class="section-header">
                    <h1>Dashboard Overview</h1>
                    <p>Real-time system performance and analytics</p>
                    <div class="time-display" id="live-time"></div>
                </div>

                <!-- Quick Stats -->
                <div class="quick-stats">
                    <div class="quick-stat">
                        <i class="fas fa-users"></i>
                        <div>
                            <h3 id="total-users">1,560</h3>
                            <span>Total Users</span>
                        </div>
                    </div>
                    <div class="quick-stat">
                        <i class="fas fa-coins"></i>
                        <div>
                            <h3 id="total-balance">₳ 2,45,800</h3>
                            <span>Total Balance</span>
                        </div>
                    </div>
                    <div class="quick-stat">
                        <i class="fas fa-money-bill-wave"></i>
                        <div>
                            <h3 id="today-profit">₳ 45,230</h3>
                            <span>Today's Profit</span>
                        </div>
                    </div>
                    <div class="quick-stat">
                        <i class="fas fa-exchange-alt"></i>
                        <div>
                            <h3 id="total-transactions">1,245</h3>
                            <span>Today's Transactions</span>
                        </div>
                    </div>
                </div>

                <!-- Main Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card revenue">
                        <div class="stat-header">
                            <h3>Revenue Analytics</h3>
                            <div class="stat-trend up">+15.2%</div>
                        </div>
                        <div class="stat-main">
                            <h2>₳ 12,45,800</h2>
                            <p>Total Revenue</p>
                        </div>
                        <div class="stat-breakdown">
                            <div class="breakdown-item">
                                <span>Sports Betting</span>
                                <span>₳ 6,45,200</span>
                            </div>
                            <div class="breakdown-item">
                                <span>Live Casino</span>
                                <span>₳ 4,25,600</span>
                            </div>
                            <div class="breakdown-item">
                                <span>Slot Games</span>
                                <span>₳ 1,75,000</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card users">
                        <div class="stat-header">
                            <h3>User Analytics</h3>
                            <div class="stat-trend up">+8.7%</div>
                        </div>
                        <div class="stat-main">
                            <h2>1,560</h2>
                            <p>Registered Users</p>
                        </div>
                        <div class="stat-breakdown">
                            <div class="breakdown-item">
                                <span>Active Today</span>
                                <span>456</span>
                            </div>
                            <div class="breakdown-item">
                                <span>New Today</span>
                                <span>23</span>
                            </div>
                            <div class="breakdown-item">
                                <span>VIP Users</span>
                                <span>45</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card financial">
                        <div class="stat-header">
                            <h3>Financial Summary</h3>
                            <div class="stat-trend up">+12.3%</div>
                        </div>
                        <div class="stat-main">
                            <h2>₳ 8,50,000</h2>
                            <p>Total Deposits</p>
                        </div>
                        <div class="stat-breakdown">
                            <div class="breakdown-item">
                                <span>Today Deposit</span>
                                <span>₳ 1,25,000</span>
                            </div>
                            <div class="breakdown-item">
                                <span>Today Withdrawal</span>
                                <span>₳ 85,000</span>
                            </div>
                            <div class="breakdown-item">
                                <span>Pending WD</span>
                                <span>₳ 25,000</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activities -->
                <div class="recent-activity">
                    <h3>Recent Activities</h3>
                    <div class="activity-list" id="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="activity-content">
                                <p>New user registered: john_doe</p>
                                <small>2 minutes ago</small>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="activity-content">
                                <p>Deposit completed: ₳50,000</p>
                                <small>5 minutes ago</small>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-money-check"></i>
                            </div>
                            <div class="activity-content">
                                <p>Withdrawal requested: ₳25,000</p>
                                <small>10 minutes ago</small>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Downline List Section -->
            <section id="downline-list" class="admin-section">
                <div class="section-header">
                    <h1>Downline List</h1>
                    <p>Manage your network and commission structure</p>
                </div>

                <div class="filter-bar">
                    <div class="filter-group">
                        <input type="text" placeholder="Search user...">
                        <select>
                            <option>All Levels</option>
                            <option>Level 1</option>
                            <option>Level 2</option>
                            <option>Level 3</option>
                        </select>
                        <select>
                            <option>All Status</option>
                            <option>Active</option>
                            <option>Inactive</option>
                        </select>
                        <button class="btn-primary">
                            <i class="fas fa-filter"></i>
                            Filter
                        </button>
                    </div>
                </div>

                <div class="users-table">
                    <table>
                        <thead>
                            <tr>
                                <th>User ID</th>
                                <th>Username</th>
                                <th>Level</th>
                                <th>Commission</th>
                                <th>Total Bet</th>
                                <th>Status</th>
                                <th>Join Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#1001</td>
                                <td>agent_dhaka</td>
                                <td>Level 1</td>
                                <td>15%</td>
                                <td>₳ 2,45,000</td>
                                <td><span class="status-badge active">Active</span></td>
                                <td>2024-01-15</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-sm btn-primary"><i class="fas fa-eye"></i></button>
                                        <button class="btn-sm btn-warning"><i class="fas fa-edit"></i></button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Bet List Section -->
            <section id="bet-list" class="admin-section">
                <div class="section-header">
                    <h1>Bet List</h1>
                    <p>Manage all betting transactions</p>
                </div>

                <div class="filter-bar">
                    <div class="filter-group">
                        <select>
                            <option>All Games</option>
                            <option>Sports</option>
                            <option>Live Casino</option>
                            <option>Slots</option>
                        </select>
                        <select>
                            <option>All Status</option>
                            <option>Pending</option>
                            <option>Won</option>
                            <option>Lost</option>
                        </select>
                        <input type="date">
                        <button class="btn-primary">
                            <i class="fas fa-filter"></i>
                            Filter
                        </button>
                    </div>
                </div>

                <div class="users-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Bet ID</th>
                                <th>Username</th>
                                <th>Game</th>
                                <th>Amount</th>
                                <th>Potential Win</th>
                                <th>Status</th>
                                <th>Time</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#BET001</td>
                                <td>player123</td>
                                <td>Football - Premier League</td>
                                <td>₳ 5,000</td>
                                <td>₳ 8,500</td>
                                <td><span class="status-badge pending">Pending</span></td>
                                <td>2024-01-20 14:30</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-sm btn-success"><i class="fas fa-check"></i></button>
                                        <button class="btn-sm btn-danger"><i class="fas fa-times"></i></button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Add more sections for other menu items... -->

            <!-- Wallet Management Section -->
            <section id="wallet-management" class="admin-section">
                <div class="section-header">
                    <h1>Wallet Management</h1>
                    <p>Manage user wallets and balances</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <h3>Total System Balance</h3>
                        </div>
                        <div class="stat-main">
                            <h2>₳ 12,45,800</h2>
                            <p>Across all user wallets</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <h3>Pending Withdrawals</h3>
                        </div>
                        <div class="stat-main">
                            <h2>₳ 85,000</h2>
                            <p>Awaiting approval</p>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="action-grid">
                        <button class="action-btn" onclick="manualAdjustment()">
                            <i class="fas fa-plus-circle"></i>
                            <span>Manual Adjustment</span>
                        </button>
                        <button class="action-btn" onclick="bulkPayout()">
                            <i class="fas fa-money-bill-wave"></i>
                            <span>Bulk Payout</span>
                        </button>
                        <button class="action-btn" onclick="walletReport()">
                            <i class="fas fa-file-export"></i>
                            <span>Wallet Report</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- SMS Gateway Sections -->
            <section id="bkash-sms" class="admin-section">
                <div class="section-header">
                    <h1>bKash SMS Gateway</h1>
                    <p>Configure bKash transaction SMS settings</p>
                </div>
                <!-- SMS configuration content -->
            </section>

            <!-- System Settings Sections -->
            <section id="game-setting" class="admin-section">
                <div class="section-header">
                    <h1>Game Settings</h1>
                    <p>Configure game parameters and limits</p>
                </div>
                <!-- Game settings content -->
            </section>

        </div>
    </main>

    <script src="js/admin.js"></script>
    
    <!-- Initialize Admin Info -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('current-admin-name').textContent = session.username;
            
            // Update live time
            function updateTime() {
                const now = new Date();
                document.getElementById('live-time').textContent = now.toLocaleString('bn-BD');
            }
            setInterval(updateTime, 1000);
            updateTime();
        });

        function showSection(sectionId) {
            document.querySelectorAll('.admin-section').forEach(section => {
                section.classList.remove('active');
            });
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            document.querySelector(`[onclick="showSection('${sectionId}')"]`).classList.add('active');
        }

        function showNotifications() {
            alert('Notification panel will be implemented soon!');
        }
    </script>
</body>
</html>
